

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="残魁斜罡">
  <meta name="keywords" content="">
  
  <title>百度高效研发实战训练营Step2 - 技术匝记簿</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.6.0/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"www.ckxgzxa.top","root":"/","version":"1.8.10","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":false,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":"01f66cc4caefba46f8cad22b739f765a","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="技术匝记簿" type="application/atom+xml">
</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>残魁斜罡的小小簿记</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/%E9%A3%8E%E6%99%AF.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="百度高效研发实战训练营Step2">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-11-24 08:00" pubdate>
        2021年11月24日 早上
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      9.2k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      95
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">百度高效研发实战训练营Step2</h1>
            
              <p class="note note-info">
                
                  本文最后更新于：2021年12月5日 下午
                
              </p>
            
            <div class="markdown-body">
              <h1 id="百度高效研发实战训练营Step2"><a href="#百度高效研发实战训练营Step2" class="headerlink" title="百度高效研发实战训练营Step2"></a>百度高效研发实战训练营Step2</h1><p><a target="_blank" rel="noopener" href="http://bit.baidu.com/productsBuy?id=272">百度工程能力实战训练营线上课程</a></p>
<h2 id="1-代码的艺术"><a href="#1-代码的艺术" class="headerlink" title="1 代码的艺术"></a>1 代码的艺术</h2><h3 id="1-1-《代码的艺术》目的解读"><a href="#1-1-《代码的艺术》目的解读" class="headerlink" title="1.1 《代码的艺术》目的解读"></a>1.1 《代码的艺术》目的解读</h3><h4 id="1-1-1-了解公司与学校写代码的不同"><a href="#1-1-1-了解公司与学校写代码的不同" class="headerlink" title="1.1.1 了解公司与学校写代码的不同"></a>1.1.1 了解公司与学校写代码的不同</h4><p>在公司写程序和在学校写程序有很大的不同。</p>
<p>在学校写程序时，对于代码的质量要求比较低。</p>
<p>当进入公司之后，做的是工业级的产品，服务用户量可能会到达亿万级，所以相对而言对于代码的质量要求比较高。<em>一些伟大产品中的代码，甚至可以被称为艺术品。</em></p>
<h4 id="1-1-2-消除对于程序员这个职业的误解"><a href="#1-1-2-消除对于程序员这个职业的误解" class="headerlink" title="1.1.2 消除对于程序员这个职业的误解"></a>1.1.2 消除对于程序员这个职业的误解</h4><p>很多人都对程序员这个职业有误解，认为程序员就是码农，认为程序员35岁之后就写不出代码了。还有人认为程序员未来的唯一出路是以后做管理。</p>
<p>希望通过这门课程的学习，能使大家对于程序员有一个新的认识，消除误解。</p>
<h4 id="1-1-3-建立对软件编程的正确认识"><a href="#1-1-3-建立对软件编程的正确认识" class="headerlink" title="1.1.3 建立对软件编程的正确认识"></a>1.1.3 建立对软件编程的正确认识</h4><p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111272315701.png"></p>
<p>在做一件事物时，我们常说“知”与“行”要合一。即：我们需要对这件事物有一个正确的认识，才会有正确的行动。同理，<em>写出好代码的前提，是对软件编程有正确的认识</em>。</p>
<h4 id="1-1-4-明确作为软件工程师的修炼方向"><a href="#1-1-4-明确作为软件工程师的修炼方向" class="headerlink" title="1.1.4 明确作为软件工程师的修炼方向"></a>1.1.4 明确作为软件工程师的修炼方向</h4><p>艺术品是由艺术家创造的。艺术家的修炼是有方式方法的。同样，软件工程师的修炼也是方式有方法的。希望通过这门课程，能使大家对软件工程师这个职业有一个全新的认识。</p>
<h3 id="1-2-代码与艺术之间的关系"><a href="#1-2-代码与艺术之间的关系" class="headerlink" title="1.2 代码与艺术之间的关系"></a>1.2 代码与艺术之间的关系</h3><h4 id="1-2-1-代码是可以被称为艺术的"><a href="#1-2-1-代码是可以被称为艺术的" class="headerlink" title="1.2.1 代码是可以被称为艺术的"></a>1.2.1 代码是可以被称为艺术的</h4><p>艺术，是多种多样、丰富多彩的。同时艺术也是有多个层次的，其实，在我们编写代码时，我们的脑海中也会有类似的感觉。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111272319344.png"></p>
<p>艺术就是人类通过借助特殊的物质材料与工具，运用一定的审美能力和技巧，在精神与物质材料、心灵与审美对象的相互作用下，进行的充满激情与活力的创造性劳动，可以说它是一种精神文化的创造行为，是人的意识形态和生产形态的有机结合体。</p>
<p>写代码也恰恰要经历这样的一个过程。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111272319626.png"></p>
<p>在编写代码的过程中：</p>
<p>我们<em>借助的物质是计算机系统，借助的工具是设计、编写、编译、调试、测试等</em>。</p>
<p>同样，编写代码需要激情。而且，编写代码是一件非常具有创造性的工作。</p>
<p>代码是人类智慧的结晶，代码反映了一个团队或一个人的精神。<em>代码可以被称为是艺术的。</em></p>
<h4 id="1-4-2-艺术可以从不同的角度进行解读、研究与创造"><a href="#1-4-2-艺术可以从不同的角度进行解读、研究与创造" class="headerlink" title="1.4.2 艺术可以从不同的角度进行解读、研究与创造"></a><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111272320545.png">1.4.2 艺术可以从不同的角度进行解读、研究与创造</h4><p>达芬奇有多幅著名的画作。拿著名的《蒙娜丽莎》这幅画来举例：</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111272322121.png"></p>
<p>站在观众的角度，可能只是在欣赏画中的人物微笑。但是对于画家来说，可能就会考虑画画的手法、构图、光线明暗、色彩对比等等方面。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111272323753.png"></p>
<p>在艺术方面，可以站在很多不同的角度进行解读。</p>
<p>但是如果要成为一名创作者，我们需要的不仅仅是欣赏的能力，更重要的是<em>从多角度进行解读、研究与创造的能力</em>。</p>
<h4 id="1-4-3-写代码如同艺术创作"><a href="#1-4-3-写代码如同艺术创作" class="headerlink" title="1.4.3 写代码如同艺术创作"></a>1.4.3 写代码如同艺术创作</h4><p>写代码的内涵是：</p>
<ol>
<li>写代码这个过程是一个<em>从无序到有序</em>的过程。</li>
<li>写代码需要把现实问题转化为数学模型。在写代码的过程中，我们需要有很好的模型能力。</li>
<li>写代码实际是一个认识的过程。很多时候，编码的过程也是我们认识未知问题的过程。</li>
<li>在写代码的过程中，我们需要综合的全方位的能力。包括把握问题的能力、建立模型的能力、沟通协助的能力、编码执行的能力等等。</li>
<li>在写好代码之前，首先需要建立品位。品味是指我们首先要知道什么是好的代码，什么是不好的代码。这样我们才能去不断地调整自己的行为，然后去学习，去提高我们的编码能力，写出具有艺术感的代码。</li>
</ol>
<h3 id="1-3-软件工程师不等于码农"><a href="#1-3-软件工程师不等于码农" class="headerlink" title="1.3 软件工程师不等于码农"></a>1.3 软件工程师不等于码农</h3><p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111272336586.png"></p>
<p>软件工程师不能只会写代码，更需要具有综合的素质。这个综合的素质包括：</p>
<h4 id="1、技术"><a href="#1、技术" class="headerlink" title="1、技术"></a>1、技术</h4><p><em><strong>技术能力是基础。</strong></em>包括但不限于编码能力、数据结构和算法能力、系统结构知识、操作系统知识、计算机网络知识、分布式系统知识等等。</p>
<h4 id="2、产品"><a href="#2、产品" class="headerlink" title="2、产品"></a>2、产品</h4><p>要对产品业务有深刻的理解，需要了解产品交互设计、产品数据统计、产品业务运营等。</p>
<h4 id="3、其他"><a href="#3、其他" class="headerlink" title="3、其他"></a>3、其他</h4><p>要了解一些管理知识，需要知道项目是怎么管理的 ，如何去协调多个人一起去完成一个项目。有一些项目需要具有很强的研究与创新方面的能力。</p>
<p>以上这些能力素质，是一个软件工程师需要具有的综合素质。要成为一个全部掌握这些素质系统工程师至少需要8~10年的时间。</p>
<p>所以，软件工程师绝对不是一个只会简单编写代码就可以的职业。<em><strong>软件工程师不等于码农。</strong></em></p>
<h3 id="1-4-正确认识代码实践方面的问题"><a href="#1-4-正确认识代码实践方面的问题" class="headerlink" title="1.4 正确认识代码实践方面的问题"></a>1.4 正确认识代码实践方面的问题</h3><h4 id="1-4-1-什么是好代码，好的代码有哪些标准"><a href="#1-4-1-什么是好代码，好的代码有哪些标准" class="headerlink" title="1.4.1 什么是好代码，好的代码有哪些标准"></a>1.4.1 什么是好代码，好的代码有哪些标准</h4><p><strong>好代码的标准是：</strong></p>
<p>①高效、②鲁棒、③简洁、④简短、⑤可共享、</p>
<p>⑥可测试、⑦可移植、⑧可监控、⑨可运维、⑩可扩展。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111292216019.png"></p>
<blockquote>
<p>将以上十条标准进行总结精简，可以归纳为：</p>
<p>（1）代码的正确和性能；</p>
<p>（2）代码的可读和可维护性；</p>
<p>（3）代码的可运维和可运营；</p>
<p>（4）代码的可共享和可重用。</p>
</blockquote>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280007786.png"></p>
<p>了解完好代码的标准，接下来我们来看一下不好的代码主要表现在哪些方面：</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280005709.png"></p>
<ol>
<li>不好的函数名</li>
</ol>
<p>​    比如，在函数名中，加my等单词，这属于很不专业的用法。</p>
<ol start="2">
<li>不好的变量名</li>
</ol>
<p>​    比如，看不出任何含义的a,b,c,j,k,temp等变量名。</p>
<ol start="3">
<li>没有注释或注释不清晰</li>
</ol>
<p>​    没有注释的代码是非常难读懂的。注释不清晰往往是因为文字功底或者描述能力欠缺，从而导致无法通过注释把代码的执行原理讲解清楚。</p>
<ol start="4">
<li>一个函数执行多个功能</li>
</ol>
<p>​    比如LoadFromFileAndCalculate()函数，它既执行了文件中去加载数据，还执行了计算功能。像这样的函数，我们建议把它切分成两个单独的函数。</p>
<ol start="5">
<li>不好的代码样式排版</li>
</ol>
<p>​    代码的样式排版在某种程度上体现了代码的一种逻辑。好的代码排版能增强代码的可读性和逻辑性。我们在写代码时，要规避不好的代码样式排版。</p>
<ol start="6">
<li>难以测试的代码</li>
</ol>
<p>​    代码没法测试，难写测试用例，这些都是一些不好的表现。</p>
<h4 id="1-4-2-好的代码从哪里来"><a href="#1-4-2-好的代码从哪里来" class="headerlink" title="1.4.2 好的代码从哪里来"></a>1.4.2 好的代码从哪里来</h4><p>代码不只是“写”出来的。实际上，在整个项目中，真正的编码时间约占项目整体时间的10%。<em>好的代码是多个环节工作共同作用的结果。</em></p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280009655.png"></p>
<p>这些环节包括：</p>
<blockquote>
<ol>
<li>在编码前，要进行需求分析和系统设计。</li>
<li>在编码过程中，要注意做单元测试。</li>
<li>在编码后，要做集成测试，要上线，要持续运营，要迭代改进。</li>
</ol>
</blockquote>
<p>一个好的系统或产品，是以上几个环节持续循环的结果。</p>
<p>接下来我们着重介绍一下重点环节——<em>需求分析和系统设计</em>。</p>
<p><strong>1. 认识需求分析和系统设计的重要性</strong></p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280011841.png"></p>
<p>需求分析和系统设计在软件开发中经常被忽略或轻视，但是这两点都是非常重要的环节。</p>
<p>人们的直觉往往是拿到一个项目就想尽快把它写出来并运行，感觉这样的路径是最快的。</p>
<p>但是实际上在软件前期需求分析和系统设计投入更多的成本，会在后期节省更多的消耗。即：<em>前期更多的投入，收益往往最大</em>。</p>
<p>原因是：如果我们开始的设计做错的话，那么后期开发、测试、上线、调试这些成本都会被浪费掉。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280010793.png"></p>
<p><strong>2. 清楚需求分析和系统设计的差别</strong></p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111292216299.png"></p>
<p>需求分析和系统设计是有泾渭分明的区别的，为了避免这两者相互混杂，我们需要清楚需求分析和系统设计各自的内涵。</p>
<p><em>需求分析主要是定义系统或软件的黑盒行为，即：外部行为。</em>比如，系统从外部来看能够执行什么功能。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280011809.png"></p>
<p><em>系统设计主要是设计系统或软件的白盒机制。即：内部行为。</em>比如，系统从内部来看，是怎么做出来的，为什么这么做。</p>
<p><strong>3.  需求分析的注意要点</strong></p>
<p>要点一：清楚怎么用寥寥数语勾勒出一个系统的功能。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280012501.png"></p>
<p>每个系统都有自己的定位，我们可以从简洁的总体描述，展开到具体的需求描述。</p>
<blockquote>
<p>需求描述的内容基本包括：</p>
<ol>
<li><p>系统类型描述</p>
</li>
<li><p>系统规模描述</p>
</li>
<li><p>系统定位和系统差异描述</p>
</li>
<li><p>系统对外接口功能描述</p>
</li>
</ol>
</blockquote>
<p>要点二：需求分析需要用精确的数字来描述。</p>
<p>需求分析中会涉及大量的数据分析，这些分析都需要精确的数字来进行支撑。</p>
<p><strong>4. 系统设计的注意要点</strong></p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280014355.png"></p>
<p><strong>要点一、清楚什么是系统架构</strong></p>
<p><em>系统架构，英文名 System Architectrue。</em>在wiki上有一个英文定义阐述了系统架构是一个概念的模型，它定义了系统的结构、行为、更多的视图。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280017695.png"></p>
<p>进一步解读系统架构，它的几个要素是：</p>
<p>①系统要完成哪些功能</p>
<p>②系统如何组成</p>
<p>③功能在这些组成部分之间如何划分</p>
<p><strong>要点二、注意系统设计的约束</strong></p>
<p><em>重点是资源的限制。</em>比如，计算的资源限制，存储的资源限制，IO网络的资源限制等。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280018199.png"></p>
<p><strong>要点三、清楚需求是系统设计决策的来源</strong></p>
<p>精确定义需求中的各个细节，以及量的定义，对系统设计的决策起着重要的作用。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111292216422.png"></p>
<p><strong>要点四、系统设计的风格与哲学</strong></p>
<p><em>在同样的需求下，可能出现不同的设计方式。</em>即目的相同，设计不同。比如：复杂指令集和精简指令集的设计差异。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111292216443.png"></p>
<p>一个好的系统是<em>在合适假设下的精确平衡</em>。一个通用的系统在某些方面是不如专用系统的。每个系统每个组件的功能都应该足够的专一和单一。每个组件是指子系统或模块等。功能的单一是复用和扩展的基础。倘若不单一，未来就有可能很难进行复用和扩展。</p>
<p>子系统或模块之间的关系应该是<em>简单而清晰的</em>。软件中最复杂的是耦合，如果各系统之间的接口定义非常复杂，那么未来便很难控制系统的健康发展。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280019144.png"></p>
<p>值得注意的是，使用全局变量就是在增加系统的耦合，从而增加系统的复杂性，所以<em>在系统中需要减少使用全局变量。</em></p>
<p><strong>要点五、清楚接口的重要性</strong></p>
<p><em>接口，英文名Interface。</em>系统对外的接口比系统实现本身还要更加重要，接口的设计开发不容忽视。</p>
<p><strong>接口主要包括：</strong></p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280019599.png"></p>
<p><strong>接口重要的原因在于：</strong></p>
<p>①接口定义了功能。如果定义的功能不正确，那么系统的可用性与价值便会大打折扣。</p>
<p>②接口决定了系统和系统外部之间的关系。相对于内部而言，外部关系确定后非常难以修改。</p>
<p>接口的修改需要非常慎重且要考虑周全。</p>
<p><strong>后期接口修改时主要注意两点：</strong></p>
<ol>
<li>合理好用。新改的接口应该是非常合理好用的。不能使调度方感觉我们做的接口非常难以使用。</li>
<li>修改时需要向前兼容。新改的接口应该尽量实现前项的兼容。不能出现当新接口上线时其他程序无法使用的情况。</li>
</ol>
<h4 id="1-4-3-如何写好代码"><a href="#1-4-3-如何写好代码" class="headerlink" title="1.4.3 如何写好代码"></a>1.4.3 如何写好代码</h4><h5 id="1-代码也是一种表达方式"><a href="#1-代码也是一种表达方式" class="headerlink" title="1 代码也是一种表达方式"></a>1 代码也是一种表达方式</h5><p>在一个项目中，软件的维护成本远远高于开发成本，而且超过50%的项目时间都是用于沟通。</p>
<p>常规意义的沟通方式主要有面对面交流、Email、文档或网络电话会议等。但是其实 <em>代码也是一种沟通方式</em>。</p>
<p>在计算机早期，我们使用机器语言或汇编语言，更多的是考虑代码如何更高效率地执行。</p>
<p>然而，随着技术的进步，代码编译器的逐渐完善，我们写代码时更多的是要考虑如何让其他人看得懂、看得清楚。于是，<strong><em>编程规范应运而生</em>。</strong></p>
<p><strong>编程规范主要包含：</strong></p>
<ol>
<li>如何规范的表达代码。 </li>
<li>语言使用的相关注意事项。</li>
</ol>
<p><strong>基于编程规范，看代码的理想场景是：</strong></p>
<ol>
<li>看别人的代码，感觉和看自己的代码一样。</li>
<li>看代码时能够专注于逻辑，而不是格式方面。</li>
<li>看代码时不用想太多。</li>
</ol>
<h5 id="2-代码书写过程中的细节问题"><a href="#2-代码书写过程中的细节问题" class="headerlink" title="2 代码书写过程中的细节问题"></a>2 代码书写过程中的细节问题</h5><h6 id="1-关于模块"><a href="#1-关于模块" class="headerlink" title="1. 关于模块"></a>1. 关于模块</h6><p><strong>模块，是程序的基本组成单位</strong>。在一个模块内，会涉及它的数据、函数或类。对于Python、Go、C语言这样的程序来说，一个后缀名为.py 、 .c或.go的文件就是一个模块。</p>
<p>每一个模块需要有明确的功能。需要符合<em><strong>紧内聚，松耦合</strong></em>。模块切分的是否合理对于软件架构的稳定起着至关重要的左右。</p>
<p>切分模块的方法：</p>
<p>先区分数据类的模块和过程类的模块。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280041920.png"></p>
<p><strong>数据类的模块：</strong>主要是要完成<em><strong>对数据的封装</strong></em>。封装往往是通过模块内部变量或类的内部变量来实现的。</p>
<p><strong>过程类的模块：</strong>本身不含数据。过程类模块可以<em><strong>从文件中去读取一个数据</strong></em>，或者执行一些相关的操作。过程类模块可以调用其他数据类模块或过程类模块。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111292217173.png"></p>
<p>编写程序时，我们需要注意减少模块间的耦合。<em><strong>减少模块间的耦合，有利于降低软件复杂性，明确接口关系</strong>。</em></p>
<h6 id="2-关于类和函数"><a href="#2-关于类和函数" class="headerlink" title="2. 关于类和函数"></a>2. 关于类和函数</h6><p>类和函数是两种不同的类型，有他们各自适用的范围。另外，遇见和类的成员变量无关的函数时，可以将该函数抽出来，作为一个独立的函数使用，这样便于未来的复用。</p>
<h6 id="3-关于面向对象"><a href="#3-关于面向对象" class="headerlink" title="3. 关于面向对象"></a>3. 关于面向对象</h6><p>面向对象，是一个优秀的编程方法和范式，但是真正理解的人并不多。</p>
<p>面向对象的<em><strong>本质是数据封装</strong></em>。这就要求我们在写程序的过程中应该<em><strong>从数据的角度开始想问题</strong></em>，而不是从执行过程的角度开始想问题。</p>
<p>我们需要注意一个普遍的错误认知，即：C语言是面向过程的，C++是面向对象的。</p>
<p>实际上，<strong><em>C语言是基于对象的，它和C++的区别主要是没有多态和继承</em>。</strong></p>
<p>C++是一个经常被滥用的语言。因为C++有太强的功能。</p>
<p>作为软件工程师，我们最重要的任务是去实现出我们所需要的功能，语言只是我们的工具。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280052593.png"></p>
<p>另外，在系统中，我们应该<em><strong>谨慎地使用多态和继承</strong></em>。如果一个系统中，类的继承超过三层，那么这个系统的复杂度便很难把握。</p>
<p>有这样一个悖论：很好的继承模型是基于对需求的准确把握，而在我们在初始设计阶段往往对需求理解的不透彻。系统在初始阶段可能只是一个很简单的原型，然后通过不断地迭代完善，才逐步发展起来变好的。</p>
<h6 id="4-关于模块内部的组成"><a href="#4-关于模块内部的组成" class="headerlink" title="4. 关于模块内部的组成"></a>4. 关于模块内部的组成</h6><p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280051076.png"></p>
<p>一个模块，比如.py、.c或.go这样一个模块，它的内部组成主要是：在文件头中，需要对模块的功能进行简要说明。需要把文件的修改历史写清楚，包括修改时间、修改人和修改内容。在模块内，内容的顺序尽量保持一致，以方便未来对内容的搜索查询。</p>
<h6 id="5-关于函数"><a href="#5-关于函数" class="headerlink" title="5. 关于函数"></a>5. 关于函数</h6><p>函数的切分同样是非常重要的。对于一个函数来说，要有明确的单一功能。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280051088.png"></p>
<p>函数描述三要素包括<em><strong>功能、传入参数和返回值</strong></em>。</p>
<ol>
<li>功能描述是指描述这个函数是做什么的、实现了哪些功能。</li>
<li> 传入参数描述是指描述这个函数中传入参数的含义和限制条件。</li>
<li>返回值描述是指描述这个函数中返回值都有哪些可能性。</li>
</ol>
<p><em><strong>函数的规模要足够的短小</strong></em>，这是写好程序的秘诀之一。bug往往出现在那些非常长的函数里。</p>
<p>在函数头中，需要对函数的语义做出清晰和准确的说明。我们需要<em><strong>注意函数的返回值</strong></em>。在写函数时，要判断函数的语义，确定返回值的类型。</p>
<p><strong>基于函数的语义，函数的返回值有三种类型。</strong></p>
<p><em><strong>第一种类型</strong></em>：在“逻辑判断型”函数中，返回布尔类型的值——True或False，表示“真”或“假”。</p>
<p><em><strong>第二种类型</strong>：</em>在“操作型”函数中，作为一个动作，返回成功或失败的结果——SUCCESS或ERROR。</p>
<p><em><strong>第三种类型</strong>：</em>在“获取数据型”函数中，返回一个“数据”，或者返回“无数据/获取数据失败”。</p>
<p><em><strong>以“单入口、单出口”的方式书写</strong></em>的方式能够比较清晰地反映出函数的逻辑。尤其是在实现多线程的数据表中，推荐使用一个内部函数来实现“单入口单出口”的方式。</p>
<h6 id="6-关于代码注释"><a href="#6-关于代码注释" class="headerlink" title="6. 关于代码注释"></a>6. 关于代码注释</h6><p>要重视注释，书写注释要做到清晰明确。在编写程序的过程中，<strong><em>先写注释，后写代码</em>。</strong></p>
<h6 id="7-关于代码块"><a href="#7-关于代码块" class="headerlink" title="7. 关于代码块"></a>7. 关于代码块</h6><p>代码块的讨论范围是在一个函数内的代码实现。书写代码块的思路是<em><strong>先把代码中的段落分清楚</strong></em>。文章有段落，代码同样有段落。代码的段落背后表达的是我们对于代码的逻辑理解。包括<em><strong>代码的层次、段落划分、逻辑</strong></em>。代码中的空行或空格是帮助我们表达代码逻辑的，并非可有可无。好的代码可以使人在观看时做过一眼明了。</p>
<h6 id="8-关于命名"><a href="#8-关于命名" class="headerlink" title="8. 关于命名"></a>8. 关于命名</h6><p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280053731.png"></p>
<p>命名包括系统命名、子系统命名、模块命名、函数命名、变量命名、常量命名等。</p>
<p>我们要清楚命名的重要性。<strong>命名重要的主要原因为：</strong></p>
<p>一是“望名生义”是人的自然反应。不准确的命名会使人产生误导。</p>
<p>二是概念是建立模型的出发点。好的命名是系统设计的基础。</p>
<p>命名中普遍存在的问题有：</p>
<p>一是名字中不携带任何信息。</p>
<p>二是名字携带的信息是错误的。</p>
<p>命名<strong><em>关系着代码的可读性</em>，</strong>需要仔细思考。<em><strong>命名的基本要求是准确、易懂。</strong></em>提高代码命名可读性的方式之一是：<em><strong>在名字的格式中加入下划线、驼峰等。</strong></em></p>
<h6 id="9-关于系统的运营"><a href="#9-关于系统的运营" class="headerlink" title="9. 关于系统的运营"></a>9. 关于系统的运营</h6><p>在互联网时代，系统非常依赖运营。并不是我们把代码写完调试通了就可以。</p>
<p>在系统运营过程中，<strong><em>代码的可监测性非常重要</em>。</strong>很多程序都是通过线上的不断运行、不断监测、不断优化而迭代完善的，所以我们在编写代码的过程中，要注意尽可能多地暴露出可监控接口。</p>
<p>对于一个系统来说，<strong><em>数据和功能同等重要</em>。</strong></p>
<p>数据收集很重要，数据量够大才能知道这个项目或这个系统的具体收益。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280056080.png"></p>
<p>关于系统的运营，我们在设计和编码阶段就需要考虑。即：在设计和编码阶段，提供足够的状态记录，提供方便的对外接口。</p>
<h3 id="1-5-怎样修炼成为优秀的软件工程师"><a href="#1-5-怎样修炼成为优秀的软件工程师" class="headerlink" title="1.5 怎样修炼成为优秀的软件工程师"></a>1.5 怎样修炼成为优秀的软件工程师</h3><p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280057161.png"></p>
<p>通常人们在判断一名软件工程师的水平时，都会用工作时间、代码量、学历、曾就职的公司等等这类外部因素作为评判标准。</p>
<p>修炼成为优秀的软件工程师，<strong>重要的因素有三点：</strong></p>
<ol>
<li>学习-思考-实践</li>
<li>知识-方法-精神</li>
<li>基础知识是根本</li>
</ol>
<h4 id="1-5-1-学习-思考-实践"><a href="#1-5-1-学习-思考-实践" class="headerlink" title="1.5.1 学习-思考-实践"></a>1.5.1 <strong>学习-思考-实践</strong></h4><h5 id="（1）多学习"><a href="#（1）多学习" class="headerlink" title="（1）多学习"></a><strong>（1）多学习</strong></h5><p>软件编写的历史已经超过半个世纪，有太多的经验可以借鉴学习。要不断的学习进步。</p>
<h5 id="（2）多思考"><a href="#（2）多思考" class="headerlink" title="（2）多思考"></a><strong>（2）多思考</strong></h5><p>学而不思则罔，思而不学则殆。对于做过的项目要去深入思考，复盘写心得。</p>
<h5 id="（3）多实践"><a href="#（3）多实践" class="headerlink" title="（3）多实践"></a><strong>（3）多实践</strong></h5><p>要做到知行合一，我们大部分的心得和成长其实是来自于实践中的经历。在学习和思考的基础之上，要多做项目，把学到的理论运用到真正的工作中。</p>
<h4 id="1-5-2-知识-方法-精神"><a href="#1-5-2-知识-方法-精神" class="headerlink" title="1.5.2 知识-方法-精神"></a>1.5.2 知识-方法-精神</h4><p>互联网的发展日新月异，对于软件开发来说，知识永远在增加，所以在变化快速的知识世界中，<strong><em>最好的方式是找到方法</em>。</strong></p>
<p>方法就是用来分析问题和解决问题的。虽然说起来简单，但是适合每个人的方法都需要自己去寻找和总结。</p>
<p>在大多数人的成长过程中，并不单单只是鲜花和掌声，更多的时候是在和困难荆棘做斗争。而真正能做出成就的人，都有着远大理想和宏伟志向。所以，光有知识和方法往往是不够的，还需要有精神作为支撑。</p>
<p>几个精神理念：</p>
<ol>
<li><strong>自由精神、独立思想。</strong></li>
</ol>
<p>人一定要有自己的思考。不要人云亦云，不要随波逐流。</p>
<ol start="2">
<li><strong>对完美的不懈追求。</strong></li>
</ol>
<p>不要做到一定程度就满意了，而是要去不断的追求一个更好的结果。</p>
<h4 id="1-5-3-基础知识是根本"><a href="#1-5-3-基础知识是根本" class="headerlink" title="1.5.3 基础知识是根本"></a>1.5.3 基础知识是根本</h4><p>唐朝著名宰相魏征曾经对唐太宗说过：“求木之长者，必固其根本；欲流之远者，必浚其泉源”，充分表达了基础乃治学之根本。</p>
<p>对于一个软件工程师来说，需要掌握的基础是非常全面的。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111280058449.png"></p>
<p>包括数据结构、算法、操作系统、系统结构、计算机网络。包括软件工程、编程思想。包括逻辑思维能力、归纳总结能力、表达能力。还包括研究能力、分析问题、解决问题的能力等。这些基础的建立，至少也要5~8年的时间。</p>
<h2 id="2-Mini-Spider实践"><a href="#2-Mini-Spider实践" class="headerlink" title="2 Mini-Spider实践"></a>2 Mini-Spider实践</h2><h3 id="2-1-多线程编程"><a href="#2-1-多线程编程" class="headerlink" title="2.1 多线程编程"></a>2.1 多线程编程</h3><h4 id="2-1-1-数据互斥访问"><a href="#2-1-1-数据互斥访问" class="headerlink" title="2.1.1 数据互斥访问"></a>2.1.1 数据互斥访问</h4><p>多线程中数据互斥访问的情况非常常见，在真实生产的环境中，经常有开发人员会将一张表的“添加”和“判断是否存在”分为两个接口，这是一种非常常见的错误。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111281424954.png"></p>
<p>以图中的代码为例，左边的代码是正确的写法，<strong>将添加和判断写进一个函数中</strong>。右边的代码是典型的错误代码，编写了两个函数，分别是添加和判断函数。</p>
<p>事实上，这种将添加和判断写进一个函数并且运行的实现机制是同8086的底层指令集支持密不可分的。</p>
<h4 id="2-1-2-临界区的注意事项"><a href="#2-1-2-临界区的注意事项" class="headerlink" title="2.1.2 临界区的注意事项"></a>2.1.2 临界区的注意事项</h4><p>在代码中，<strong>有锁来保护的区域被称为临界区</strong>。以图中代码为例，临界区为self.lock.acquire()和self.lock.release()两句话之间的区域。在使用临界区的时候要注意，不要把耗费时间的操作放在临界区内执行。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111281429165.png"></p>
<p>很多开发人员在编写多线程的时候会将耗费时间很多的逻辑放入临界区内，这样会导致无法发挥多线程对于硬件资源最大化利用的优势。</p>
<h4 id="2-1-3-I-O操作的处理"><a href="#2-1-3-I-O操作的处理" class="headerlink" title="2.1.3 I/O操作的处理"></a>2.1.3 I/O操作的处理</h4><p>在多线程编程中还要注意对于I/O操作的处理。首先在编写代码的时候要注意不能出现无捕捉的exception，以图中最左边的代码为例，如果不对异常进行捕捉，那么一旦出现问题就不会执行self.lock.release()语句，进而导致死锁的发生。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111281444010.png"></p>
<p>其次，因为异常处理是非常消耗资源的，所以我们也不能像图中中间的代码一样，将异常放在临界区内，要像最右边的代码一样处理。</p>
<h3 id="2-2-细节处理"><a href="#2-2-细节处理" class="headerlink" title="2.2 细节处理"></a>2.2 细节处理</h3><h4 id="2-2-1-种子信息的读取"><a href="#2-2-1-种子信息的读取" class="headerlink" title="2.2.1 种子信息的读取"></a>2.2.1 种子信息的读取</h4><p>很多开发人员会将种子信息读取的逻辑和其他逻辑耦合在一起，这样是错误的。以图中代码为例，虽然通过_get_seeds函数直接读取文件中的信息并没有书写错误，但是如果后续的开发中文件的格式发生了变化，那就需要重新回来修改这部分的代码。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111281445680.png"></p>
<p>通过上述代码可以发现，模块划分和逻辑的复杂程度是没有关系的。即使是逻辑简单的代码，如果没有做好模块划分，也会变得难于维护。</p>
<h4 id="2-2-2-程序优雅退出"><a href="#2-2-2-程序优雅退出" class="headerlink" title="2.2.2 程序优雅退出"></a>2.2.2 程序优雅退出</h4><p>在真实应用中，很多开发人员在实现程序退出功能的时候使用了非常复杂的机制，导致后期维护难度较高。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111281446653.png"></p>
<p>在实际应用中可以使用python系统库中关于队列的task_done()和join()的机制。</p>
<p>以图中代码为例，左边的代码就是使用了task_done()，中间的代码是主程序中的一种常规逻辑使用。右边是对中间主程序的一种优化，增加了spider.wait()，让整个逻辑可读性更强，更容易被理解。</p>
<h4 id="2-2-3-爬虫的主逻辑编码"><a href="#2-2-3-爬虫的主逻辑编码" class="headerlink" title="2.2.3 爬虫的主逻辑编码"></a>2.2.3 爬虫的主逻辑编码</h4><p>很多开发人员编写的主逻辑非常的复杂且难懂。事实上，图中的代码就是一个爬虫的主逻辑的所有代码。可以看到，里面包含了六个步骤。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111281448571.png"></p>
<p>第一步，从队列中拿到任务。</p>
<p>第二步，读取内容。如果读取失败，则重新读取。如果读取成功，则执行第三步。</p>
<p>第三步，存储数据。</p>
<p>第四步，检查数据深度。</p>
<p>第五步，如果数据深度不足，就进一步解析，并且放到队列中。</p>
<p>第六步，结束任务。</p>
<h2 id="3-代码检查规则背景及总体介绍"><a href="#3-代码检查规则背景及总体介绍" class="headerlink" title="3 代码检查规则背景及总体介绍"></a>3 代码检查规则背景及总体介绍</h2><h3 id="3-1-代码检查的意义"><a href="#3-1-代码检查的意义" class="headerlink" title="3.1 代码检查的意义"></a>3.1 代码检查的意义</h3><ol>
<li>提高代码可读性，统一规范，方便他人维护，长远来看符合公司内部开源战略。</li>
<li>帮助发现代码缺陷，弥补人工代码评审的疏漏，节省代码评审的时间与成本。</li>
<li>有助于提前发现问题，节约时间成本，降低缺陷修复成本。</li>
<li>促进公司编码规范的落地，在规范制定后借助工具进行准入检查。</li>
<li>提升编码规范的可运营性，针对反馈较多的不合理规范进行调整更新。</li>
</ol>
<h3 id="3-2-代码检查场景及工具"><a href="#3-2-代码检查场景及工具" class="headerlink" title="3.2 代码检查场景及工具"></a>3.2 代码检查场景及工具</h3><h4 id="3-2-1-代码检查场景"><a href="#3-2-1-代码检查场景" class="headerlink" title="3.2.1 代码检查场景"></a>3.2.1 代码检查场景</h4><p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111281541973.png"></p>
<p>首先是<strong>本地研发环节</strong>，借助客户端工具，在push发起评审之前进行检查。</p>
<p>若本地代码扫描没有出现问题，就进入第二个环节：<strong>代码准入环节，即Code Review</strong>，这一环节进行增量检查，属于公司强制要求。</p>
<p>第三个环节：<strong>持续集成环节</strong>，当代码合入到代码库之后，进行全量检查，业务线根据自身需求来配置。</p>
<h4 id="3-2-2-代码检查工具与服务"><a href="#3-2-2-代码检查工具与服务" class="headerlink" title="3.2.2 代码检查工具与服务"></a>3.2.2 代码检查工具与服务</h4><p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111281543538.png"></p>
<p>代码检查的产品，客户端、SCM(icode)、CI(Agile)之间具有交互性，共同构成整个代码检查环节。</p>
<h4 id="3-2-3-代码检查覆盖范围"><a href="#3-2-3-代码检查覆盖范围" class="headerlink" title="3.2.3 代码检查覆盖范围"></a>3.2.3 代码检查覆盖范围</h4><p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111281544909.png"></p>
<p>在<strong>覆盖语言</strong>方面，代码检查目前已经覆盖了包括C++，Java/android, PHP, Python, Go, JS, OC, Kotlin在内的几乎所有主流语言。</p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111281544915.png"></p>
<p>在<strong>检查维度</strong>方面，代码检查包括编码规范 代码缺陷，开源框架引用安全检查，可维护性(MI)。</p>
<h4 id="3-2-4-代码检查速度"><a href="#3-2-4-代码检查速度" class="headerlink" title="3.2.4 代码检查速度"></a>3.2.4 代码检查速度</h4><p>编码规范：只扫描变更文件，检查代码变更行是否符合规范，速度较快。</p>
<p>缺陷检查：需考虑文件依赖、函数调用关系、代码上下文等，相对耗时。</p>
<h3 id="3-3-代码检查规则分级"><a href="#3-3-代码检查规则分级" class="headerlink" title="3.3 代码检查规则分级"></a>3.3 代码检查规则分级</h3><h4 id="3-3-1-规则等级梳理"><a href="#3-3-1-规则等级梳理" class="headerlink" title="3.3.1 规则等级梳理"></a>3.3.1 规则等级梳理</h4><p>Code Review阶段，所有维度扫描出的问题可以分为以下3个等级：</p>
<ol>
<li><p>Error：属于需要强制解决的类型，影响代码合入，应视具体情况不同采取修复、临时豁免、标记误报等措施及时处理；</p>
</li>
<li><p>Warning：非强制解决类型，不影响代码含入，很可能存在风险，应尽量修复；</p>
</li>
<li><p>Advice：非强制解决类型，级别相对较低，不影响代码含入，可以选择性修复。</p>
</li>
</ol>
<h4 id="3-3-2-机检任务统一"><a href="#3-3-2-机检任务统一" class="headerlink" title="3.3.2 机检任务统一"></a>3.3.2 机检任务统一</h4><p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111281548620.png"></p>
<h4 id="3-3-3-评审页行间提示"><a href="#3-3-3-评审页行间提示" class="headerlink" title="3.3.3 评审页行间提示"></a>3.3.3 评审页行间提示</h4><p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111281550018.png"></p>
<h4 id="3-3-4-针对豁免、误报、咨询的说明"><a href="#3-3-4-针对豁免、误报、咨询的说明" class="headerlink" title="3.3.4 针对豁免、误报、咨询的说明"></a>3.3.4 针对豁免、误报、咨询的说明</h4><p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111281550799.png"></p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111281550899.png"></p>
<p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111281550116.png"></p>
<h2 id="4-代码检查规则：Python语言案例详解"><a href="#4-代码检查规则：Python语言案例详解" class="headerlink" title="4 代码检查规则：Python语言案例详解"></a>4 代码检查规则：Python语言案例详解</h2><h3 id="4-1-Python的代码检查规则"><a href="#4-1-Python的代码检查规则" class="headerlink" title="4.1 Python的代码检查规则"></a>4.1 Python的代码检查规则</h3><p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111281552034.png"></p>
<p>Python代码检查规则主要分为四个大类，分别是<strong>代码风格规范、引用规范、定义规范和异常处理规范</strong>。</p>
<h4 id="4-1-1-代码风格规范"><a href="#4-1-1-代码风格规范" class="headerlink" title="4.1.1 代码风格规范"></a>4.1.1 代码风格规范</h4><h5 id="（1）程序规模规范："><a href="#（1）程序规模规范：" class="headerlink" title="（1）程序规模规范："></a><strong>（1）程序规模规范：</strong></h5><ol>
<li><p>每行不得超过 120 个字符。</p>
</li>
<li><p>定义的函数长度不得超过 120 行。</p>
</li>
</ol>
<p>这意味着，在编写代码时，需要时刻注意自己的程序规模，避免冗余，确保写出简洁而高效的代码。</p>
<h5 id="（2）语句规范"><a href="#（2）语句规范" class="headerlink" title="（2）语句规范"></a><strong>（2）语句规范</strong></h5><p>因为Python与其他语言不同，可以不需要明确的标识符表示语句的结尾，所以规定：</p>
<ol start="3">
<li><p>禁止以分号结束语句。</p>
</li>
<li><p>在任何情况下，一行只能写一条语句。</p>
</li>
</ol>
<h5 id="（3）括号使用规范"><a href="#（3）括号使用规范" class="headerlink" title="（3）括号使用规范"></a><strong>（3）括号使用规范</strong></h5><ol start="5">
<li>除非用于明确算术表达式优先级、元组或者隐式行连接，否则尽量避免冗余的括号。</li>
</ol>
<h5 id="（4）缩进规范"><a href="#（4）缩进规范" class="headerlink" title="（4）缩进规范"></a><strong>（4）缩进规范</strong></h5><ol start="6">
<li>禁止使用Tab进行缩进，而统一使用4个空格进行缩进</li>
</ol>
<p>需要将单行内容拆成多行写时规定：</p>
<ol start="7">
<li>与首行保持对齐；或者首行留空，从第二行起统一缩进4个空格。</li>
</ol>
<h5 id="（5）空行规范"><a href="#（5）空行规范" class="headerlink" title="（5）空行规范"></a><strong>（5）空行规范</strong></h5><ol start="8">
<li>文件级定义（类或全局函数）之间，相隔两个空行；类方法之间，相隔一个空行。</li>
</ol>
<h5 id="（6）空格规范"><a href="#（6）空格规范" class="headerlink" title="（6）空格规范"></a><strong>（6）空格规范</strong></h5><ol start="9">
<li><p>括号之内均不添加空格。</p>
</li>
<li><p>参数列表、索引或切片的左括号前不应加空格。</p>
</li>
<li><p>逗号、分号、冒号之前均不添加空格，而是在它们之后添加一个空格。</p>
</li>
<li><p>所有二元运算符前后各加一个空格。</p>
</li>
<li><p>关键字参数或参数默认值的等号前后不加空格。</p>
</li>
</ol>
<h5 id="（7）注释规范"><a href="#（7）注释规范" class="headerlink" title="（7）注释规范"></a><strong>（7）注释规范</strong></h5><ol start="14">
<li>每个文件都必须有文件声明，每个文件声明至少必须包括以下三个方面的信息：版权声明、功能和用途介绍、修改人及联系方式。</li>
</ol>
<p>另外在使用文档字符串（docstirng）进行注释时，规定：</p>
<ol start="15">
<li><p>使用docstring描述模块、函数、类和类方法接口时，docstring必须用三个双引号括起来。</p>
</li>
<li><p>对外接口部分必须使用docstring描述，内部接口视情况自行决定是否写docstring。</p>
</li>
<li><p>接口的docstring描述内容至少包括以下三个方面的信息：功能简介、参数、返回值。如果可能抛出异常，必须特别注明。</p>
</li>
</ol>
<h4 id="4-1-2-引用规范"><a href="#4-1-2-引用规范" class="headerlink" title="4.1.2 引用规范"></a>4.1.2 引用规范</h4><p><img src="https://gitee.com/ckxgzxa/BlogPictures/raw/master/202111281600533.png"></p>
<p><strong>严格而具体的规定：</strong></p>
<ol>
<li>禁止使用 from……import…… 句式直接导入类或函数，而应在导入库后再行调用。</li>
<li>每行只导入一个库。</li>
<li>按标准库、第三方库、应用程序自有库的顺序排列import，三个部分之间分别留一个空行。</li>
</ol>
<h4 id="4-1-3-定义规范"><a href="#4-1-3-定义规范" class="headerlink" title="4.1.3 定义规范"></a>4.1.3 定义规范</h4><p><strong>（1）在变量定义方面，我们有强制的规范规定：</strong></p>
<ol>
<li>局部变量使用全小写字母，单词间使用下划线分隔。</li>
<li>定义的全局变量必须写在文件头部。</li>
<li>常量使用全大写字母，单词间使用下划线分隔</li>
</ol>
<p><strong>（2）函数的定义规范主要体现在函数的返回值以及默认参数的定义上。</strong></p>
<p>为提高代码可读性，对于函数的返回值，规范要求为：</p>
<ol>
<li>函数返回值必须小于或等于3个。若返回值大于3个，则必须通过各种具名的形式进行包装。</li>
</ol>
<p>为了保障函数的运行效率以及降低后期维护和纠错的成本，对于函数默认参数的定义有如下要求：</p>
<ol start="2">
<li>仅可使用以下基本类型的常量或字面常量作为默认参数：整数、bool、浮点数、字符串、None。</li>
</ol>
<p><strong>（3）类定义的规范包括了四个方面的内容：</strong></p>
<ol>
<li>类的命名使用首字母大写的驼峰式命名法。</li>
<li>对于类定义的成员：protected成员使用单下划线前缀；private成员使用双下划线前缀。</li>
<li>如果一个类没有基类，必须继承自object类。</li>
<li>类构造函数应尽量简单，不能包含可能失败或过于复杂的操作。</li>
</ol>
<h4 id="4-1-4-异常处理规范"><a href="#4-1-4-异常处理规范" class="headerlink" title="4.1.4 异常处理规范"></a>4.1.4 异常处理规范</h4><p>在代码编写中应该<strong>尽量避免出现代码异常状态</strong>，然而错误有时在所难免，对于这些异常状态的处理，有着明确的规范要求：</p>
<ol>
<li>禁止使用双参数形式或字符串形式的语法抛出异常。</li>
<li>如需自定义异常，应在模块内定义名为 Error 的异常基类。并且，该基类必须继承自 Exception 。其他异常均由该基类派生而来。</li>
<li>除非重新抛出异常，禁止使用 except：语句捕获所有异常， 一般情况下，应使except……：语句捕获具体的异常。</li>
<li>捕捉异常时，应当使用 as 语法，禁止使用逗号语法。</li>
</ol>
<h3 id="4-2-Python编码惯例"><a href="#4-2-Python编码惯例" class="headerlink" title="4.2 Python编码惯例"></a>4.2 Python编码惯例</h3><h4 id="4-2-1-让模块既可被导入又可被执行"><a href="#4-2-1-让模块既可被导入又可被执行" class="headerlink" title="4.2.1 让模块既可被导入又可被执行"></a>4.2.1 让模块既可被导入又可被执行</h4><p>python不同于编译型语言，而<strong>属于脚本语言</strong>，是动态的逐行解释运行，没有统一的程序入口。所以，为了方便模块之间的相互导入，我们通常<strong>自定义一个 main 函数，并使用一个if 语句</strong>， if 内置变量 <strong>name</strong> == ‘__main__’ ，在这个if 条件下，再去执行 main函数。这样，我们就能够实现，让模块既可被导入又可执行。</p>
<h4 id="4-2-2-in运算符的使用"><a href="#4-2-2-in运算符的使用" class="headerlink" title="4.2.2 in运算符的使用"></a>4.2.2 in运算符的使用</h4><p>in一种简洁而高效的运算符，很多时候，合理的使用in运算符，可以<strong>代替大量的重复判断过程</strong>，降低时间复杂度，提高代码的运行效率。</p>
<h4 id="4-2-3-不使用临时变量交换两个值"><a href="#4-2-3-不使用临时变量交换两个值" class="headerlink" title="4.2.3 不使用临时变量交换两个值"></a>4.2.3 不使用临时变量交换两个值</h4><p>Python有更简洁而高效的语句可以实现交换两个值的操作，并<strong>无必要引入临时变量</strong>来交换两个值。</p>
<h4 id="4-2-4-用序列构建字符串"><a href="#4-2-4-用序列构建字符串" class="headerlink" title="4.2.4 用序列构建字符串"></a>4.2.4 用序列构建字符串</h4><p>对于一个字符串列表、元组等，可以用序列来构建字符串，<strong>利用一个空字符串和join函数</strong>，就可以避免重复，高效完成相应字符串的构建。</p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E7%99%BE%E5%BA%A6%E9%AB%98%E6%95%88%E7%A0%94%E5%8F%91%E5%AE%9E%E6%88%98%E8%AE%AD%E7%BB%83%E8%90%A5/">百度高效研发实战训练营</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/bitTraingClub3.html">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">百度高效研发实战训练营Step3</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/bitTraingClub1.html">
                        <span class="hidden-mobile">百度高效研发实战训练营Step1</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments">
                
                  
                
                
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'github-light';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'CKXGZXA/GitPageComments');
      s.setAttribute('issue-term', 'pathname');
      
      s.setAttribute('label', 'utterances');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


  
  <!-- 备案信息 -->
  <div class="beian">
    <span>
      <a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">
        湘ICP备2021018734号
      </a>
    </span>
    
      
        <span>
          <a
            href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=43052102000188"
            rel="nofollow noopener"
            class="beian-police"
            target="_blank"
          >
            
              <span style="visibility: hidden; width: 0">|</span>
              <img src="/img/police_beian.png" alt="police-icon"/>
            
            <span>湘公网安备 43052102000188号</span>
          </a>
        </span>
      
    
  </div>


  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->




  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.2/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      $('#local-search-input').on('click', function() {
        searchFunc(path, 'local-search-input', 'local-search-result');
      });
      $('#modalSearch').on('shown.bs.modal', function() {
        $('#local-search-input').focus();
      });
    })()
  </script>





  

  
    <!-- MathJax -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        options: {
          renderActions: {
            findScript: [10, doc => {
              document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                const display = !!node.type.match(/; *mode=display/);
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                const text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = { node: text, delim: '', n: 0 };
                math.end = { node: text, delim: '', n: 0 };
                doc.math.push(math);
              });
            }, '', false],
            insertedScript: [200, () => {
              document.querySelectorAll('mjx-container').forEach(node => {
                let target = node.parentNode;
                if (target.nodeName.toLowerCase() === 'li') {
                  target.parentNode.classList.add('has-jax');
                }
              });
            }, '', false]
          }
        }
      };
    </script>

    <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-svg.js" ></script>

  








  
    <!-- Baidu Analytics -->
    <script defer>
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?01f66cc4caefba46f8cad22b739f765a";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  

  

  

  

  

  





<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
